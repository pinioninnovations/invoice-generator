<!DOCTYPE html>
<html>
    <head>
        <title>Invoice Generator</title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
        <link rel="stylesheet" href="./external-scripts/materialize.min.css">	
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script src="https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.js"></script>
        <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.css" />
        <script src="./external-scripts/materialize.min.js"></script>
    </head>

    <body onload="loadContainer()">

        <div id="invoice_form" class="row">
            <div class="col offset-s2 s8">
                <div class="card white">
                    <div class="card-image" style="
                        background-color: #8EC5FC; 
                        background-image: linear-gradient(62deg, #8EC5FC 0%, #E0C3FC 100%);
                        height: 50px;">
                    </div>
                    <div class="card-title">
                        Welcome to Invoice Generator!
                    </div>

                    <div class="card-content">
                        <p>
                            One stop to generate and manage all your invoices!<br /> 
                            Get started by signing in &#x1f44d;
                        </p>
                        <div id="firebaseui-auth-container"></div>
                    </div>
                </div>
            </div>

            <div class="col offset-s2 s8">
                <div class="card white">
                    <div class="card-content">
                        <p>
                            <b>
                                <a href="https://www.linkedin.com/in/cherubim-palukury/">
                                    Cherubim Palukury
                                </a>
                            </b>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
          
            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {
              apiKey: "AIzaSyAuRpYGd8-JIs88UGDOayyQBzNXDP_dsqM",
              authDomain: "invoice-generator-2b8be.firebaseapp.com",
              databaseURL: "https://invoice-generator-2b8be-default-rtdb.firebaseio.com",
              projectId: "invoice-generator-2b8be",
              storageBucket: "invoice-generator-2b8be.appspot.com",
              messagingSenderId: "45256620824",
              appId: "1:45256620824:web:fda05a8b32c10a11f13c6d",
              measurementId: "G-9HYNX31XDY"
            };
          
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
        </script>
    
        
        <script>
            function loadContainer() {
                var ui = new firebaseui.auth.AuthUI(firebase.auth());
        
                ui.start('#firebaseui-auth-container', {
                    signInSuccessUrl: 'pages/new_invoice.html',
                    signInOptions: [
                        // firebase.auth.EmailAuthProvider.PROVIDER_ID,
                        firebase.auth.GoogleAuthProvider.PROVIDER_ID,
                        // firebase.auth.FacebookAuthProvider.PROVIDER_ID,
                        // firebase.auth.TwitterAuthProvider.PROVIDER_ID,
                        // firebase.auth.GithubAuthProvider.PROVIDER_ID
                    ],
                });
            }
        
            firebase.auth().onAuthStateChanged(function(user) {
                if (user) {
                    window.location = "pages/home.html";
                } else {
                    // none
                }
            });
        </script>
    </body>
</html>